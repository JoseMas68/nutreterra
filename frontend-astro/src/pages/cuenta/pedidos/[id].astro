---
import Layout from '@/layouts/Layout.astro';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import ProtectedRoute from '@/islands/ProtectedRoute';
import OrderDetails from '@/islands/OrderDetails';

// Deshabilitar prerenderizado para usar SSR (Server-Side Rendering)
export const prerender = false;

const { id } = Astro.params;
---

<Layout title="Detalles del Pedido - NutreTerra">
  <Header />

  <main class="min-h-screen bg-gradient-to-b from-white to-primary/5 py-16">
    <ProtectedRoute client:load>
      <div class="container mx-auto px-4">
        <!-- Breadcrumb -->
        <div class="mb-8">
          <a href="/cuenta/pedidos" class="text-primary hover:text-leaf transition-colors">
            ‚Üê Volver a Mis Pedidos
          </a>
        </div>

        <!-- Componente de detalles del pedido -->
        <OrderDetails orderId={id || ''} client:load />
      </div>
    </ProtectedRoute>
  </main>

  <Footer />
</Layout>
